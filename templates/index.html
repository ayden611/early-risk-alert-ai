{% extends "base.html" %}
{% block content %}

<div class="card">
  <h1>Enter your health indicators</h1>
  <p class="muted">This tool estimates risk for awareness only (not medical advice).</p>

  <form method="POST" class="grid">
    <div>
      <label>Age</label>
      <input name="age" type="number" step="any" required value="{{ form.age }}">
    </div>

    <div>
      <label>BMI</label>
      <input name="bmi" type="number" step="any" required value="{{ form.bmi }}">
    </div>

    <div>
      <label>Exercise Level</label>
      <select name="exercise_level">
        <option {% if form.exercise_level == "Low" %}selected{% endif %}>Low</option>
        <option {% if form.exercise_level == "Moderate" %}selected{% endif %}>Moderate</option>
        <option {% if form.exercise_level == "High" %}selected{% endif %}>High</option>
      </select>
      <div class="hint">Tip: if unsure, choose “Low”.</div>
    </div>

    <div>
      <label>Systolic BP (top number)</label>
      <input name="systolic_bp" type="number" step="any" required value="{{ form.systolic_bp }}">
    </div>

    <div>
      <label>Diastolic BP (bottom number)</label>
      <input name="diastolic_bp" type="number" step="any" required value="{{ form.diastolic_bp }}">
    </div>

    <div>
      <label>Heart Rate (bpm)</label>
      <input name="heart_rate" type="number" step="any" required value="{{ form.heart_rate }}">
    </div>

    <div class="full">
      <label class="check">
        <input name="ack" type="checkbox" {% if form.ack %}checked{% endif %}>
        <span>I understand this tool provides a risk estimate for awareness only and is not medical advice.</span>
      </label>
    </div>

    <div class="full actions">
      <button class="btn primary" type="submit">Predict</button>
      <a class="btn" href="{{ url_for('history') }}">View recent predictions</a>
    </div>
  </form>
</div>

{% if prediction %}
  <div class="card">
    <h2>Result</h2>
    <div class="result">
      <div class="pill {{ 'bad' if prediction=='High' else 'good' }}">
        Risk Level: {{ prediction }}
      </div>
      <div class="muted">Probability (High Risk): <b>{{ probability_pct }}%</b></div>
    </div>
  </div>
{% endif %}

{% endblock %}
