{% extends "base.html" %}
{% block content %}

<h1>Prediction History</h1>

<table class="table">
  <thead>
    <tr>
      <th>Date</th>
      <th>Age</th>
      <th>BMI</th>
      <th>Exercise</th>
      <th>Result</th>
      <th>Probability</th>
    </tr>
  </thead>
  <tbody>
    {% if predictions and predictions|length > 0 %}
      {% for p in predictions %}
        <tr>
          <td>{{ p.created_at.strftime("%Y-%m-%d %H:%M:%S") }}</td>
          <td>{{ p.age }}</td>
          <td>{{ "%.1f"|format(p.bmi) }}</td>
          <td>{{ exercise_label.get(p.exercise_level, p.exercise_level) }}</td>
          <td>{{ p.risk_label }}</td>
          <td>{{ "%.2f"|format(p.probability * 100) }}%</td>
        </tr>
      {% endfor %}
    {% else %}
      <tr><td colspan="6">No history yet.</td></tr>
    {% endif %}
  </tbody>
</table>

{% endblock %}
